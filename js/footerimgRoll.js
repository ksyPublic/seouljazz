jQuery.fn.srolling=function(e){var t=(e=jQuery.extend({data:[],name:"#srolling_area",item_count:1,cache_count:10,width:100,height:100,auto:!1,delay:1e3,delay_frame:500,move:"left",prev:"#srolling_prev",next:"#srolling_next"},e)).name,n=e.auto,i=n,c=2*e.delay,a=e.delay_frame,r=e.move,o=e.prev,s=e.next,l=e.data,u=e.item_count,f=e.cache_count,d=(e.index,e.width),p=e.height,v=l.length,h=v,m=0,_=-2*d,y=parseInt(d)*parseInt(v)*10;switch(r){case"down":case"top":y=d,_=p*(-1*f)}var g=this.append("<div id='srolling_area' style='width:"+y+"px;position: absolute;white-space:nowrap;'></div>");g=jQuery(t,this);var w=jQuery("<div></div>").css("width",d).css("height",p).css("float","left").css("overflow","hidden"),k=null;function j(){switch(r){case"down":case"top":g.css("top",_);break;case"right":case"left":g.css("left",_)}}function Q(){switch(r){case"down":case"right":k=setTimeout(b,c);break;case"top":case"left":k=setTimeout(x,c)}}function b(){n&&i&&(T(),k=setTimeout(b,c))}function x(){n&&i&&(I(),k=setTimeout(x,c))}function T(){var e=jQuery(o),t=jQuery(s);switch(e.unbind("click"),t.unbind("click"),r){case"left":case"right":g.animate({left:"+="+d*u},a,function(){for(var n=0;n<u;n++)g.children().last().remove();q(),j(),e.click(T),t.click(I)});break;case"top":case"down":g.animate({top:"+="+p*u},a,function(){for(var n=0;n<u;n++)g.children().last().remove();q(),j(),e.click(T),t.click(I)})}}function I(){var e=jQuery(o),t=jQuery(s);switch(e.unbind("click"),t.unbind("click"),r){case"down":case"top":g.animate({top:"-="+p*u},a,function(){for(var n=0;n<u;n++)g.children().first().remove();z(),j(),e.click(T),t.click(I)});break;case"right":case"left":g.animate({left:"-="+d*u},a,function(){for(var n=0;n<u;n++)g.children().first().remove();z(),j(),t.click(I),e.click(T)})}}function q(){var e=g.children().first().attr("class");h=parseInt(e.replace("srolling_item_",""))-1;for(var t=u;t>0;t--){(v<=h||h<0)&&(h=v-1);var n=w.clone();g.prepend(n.append(jQuery(l[h])).attr("class","srolling_item_"+h)),h--}}function z(){var e=g.children().last().attr("class");m=parseInt(e.replace("srolling_item_",""))+1;for(var t=0;t<u;t++){(v<=m||m<0)&&(m=0);var n=w.clone();g.append(n.append(jQuery(l[m])).attr("class","srolling_item_"+m)),m++}}!function(){j();for(var e=f;e>0;e--){(v<=h||h<0)&&(h=v-1);var t=w.clone();g.prepend(t.append(jQuery(l[h])).attr("class","srolling_item_"+h)),h--}for(var e=0;e<f;e++){(v<=m||m<0)&&(m=0);var t=w.clone();g.append(t.append(jQuery(l[m])).attr("class","srolling_item_"+m)),m++}}(),n&&Q(),jQuery(o).click(function(){T()}),jQuery(s).click(function(){I()}),jQuery(g).mouseover(function(){n&&(clearTimeout(k),i=!1)}),jQuery(g).mouseout(function(){n&&(i=!0,Q())}),g.bind("swipeleft",function(e){I()}),g.bind("swiperight",function(e){T()})};